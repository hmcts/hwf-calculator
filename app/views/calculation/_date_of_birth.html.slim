.content-body.date_of_birth
  = form_for form, as: :calculation, url: update_calculation_url(form: form.type), method: :patch do |f|
    .form-group class=('form-group-error' if form.errors.any?)
      fieldset.inline
        legend
          h2.heading-medium = t('calculation.field_labels.date_of_birth')

        - if form.errors.include?(:date_of_birth)
          span.error-message = form.errors[:date_of_birth].join(', ')
        span.form-hint = t('calculation.hints.date_of_birth')
        .form-date
          .form-group
            label.block-label
              = f.label :'date_of_birth(3i)', 'Day'
              = f.text_field :'date_of_birth(3i)', value: f.object.date_of_birth.try(:day), class: 'form-control'
          .form-group
            label.block-label
              = f.label :'date_of_birth(2i)', 'Month'
              = f.text_field :'date_of_birth(2i)', value: f.object.date_of_birth.try(:month), class: 'form-control'
          .form-group
            label.block-label
              = f.label :'date_of_birth(1i)', 'Year'
              = f.text_field :'date_of_birth(1i)', value: f.object.date_of_birth.try(:year), class: 'form-control'
    - if current_calculation.inputs[:marital_status] == 'sharing_income'
      .form-group class=('form-group-error' if form.errors.any?)
        fieldset.inline
          legend
            h2.heading-medium = t('calculation.field_labels.partner_date_of_birth')

          - if form.errors.include?(:partner_date_of_birth)
            span.error-message = form.errors[:partner_date_of_birth].join(', ')
          .form-date
            .form-group
              label.block-label
                = f.label :'partner_date_of_birth(3i)', 'Day'
                = f.text_field :'partner_date_of_birth(3i)', value: f.object.partner_date_of_birth.try(:day), class: 'form-control'
            .form-group
              label.block-label
                = f.label :'partner_date_of_birth(2i)', 'Month'
                = f.text_field :'partner_date_of_birth(2i)', value: f.object.partner_date_of_birth.try(:month), class: 'form-control'
            .form-group
              label.block-label
                = f.label :'partner_date_of_birth(1i)', 'Year'
                = f.text_field :'partner_date_of_birth(1i)', value: f.object.partner_date_of_birth.try(:year), class: 'form-control'
    .form-group
      = f.submit 'Next step', class: 'button'
  = render partial: 'previous_questions', locals: { current_calculation: current_calculation, disabled: false } unless current_calculation.inputs.empty?